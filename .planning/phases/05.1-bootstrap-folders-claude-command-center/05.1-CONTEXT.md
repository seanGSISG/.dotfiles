# Phase 5.1: Bootstrap Folders & Claude Code Command Center - Context

**Gathered:** 2026-02-11
**Status:** Ready for planning

<domain>
## Phase Boundary

Set up reproducible home directory workspace structure (projects, labs, tools, tmp, command-center) with CLAUDE.md boundary files, and deploy a complete Claude Code configuration (~/.claude/) with hooks, learning system, MCP servers, and settings — all managed via chezmoi for portability across Linux/Ubuntu machines.

</domain>

<decisions>
## Implementation Decisions

### Command Center Scope
- Central agent command center lives at `~/command-center/` — dedicated top-level directory
- command-center has a simple CLAUDE.md describing folder structure and how to interact with workspace
- This is the primary directory for launching Claude Code sessions
- Full continuous-learning-v2 system included: observation hooks + instinct storage + background observer agent + evolution pipeline
- Hooks: session + learning only (session-start, session-end, pre-compact, evaluate-session, observe) — NO linting hooks, NO enforcement/reminder hooks
- Reference files for hooks/skills: `.dotfiles/.planning/research/temp/everything-claude-code-main/`
- Global MCP server configs from `.dotfiles/.planning/research/temp/mcp-servers.json`
- Global CLAUDE.md, settings.json, hooks.json, hook scripts, learning config all deployed to `~/.claude/`

### Folder Structure
- Workspace folders: `~/projects/`, `~/labs/`, `~/tools/`, `~/tmp/`, `~/command-center/`
- Each workspace folder gets a CLAUDE.md boundary file defining scope
- command-center is simplified — just a CLAUDE.md, learning system creates subfolders as needed
- Learning system data stored at `~/.claude/insights/` (renamed from "homunculus")
- Continuous-learning-v2 internal structure lives under `~/.claude/insights/`

### Bootstrap Integration
- All workspace folders and CLAUDE.md files managed via chezmoi (not bootstrap.sh script)
- chezmoi apply creates the full workspace structure automatically
- Claude Code installed via official installer: `curl -fsSL https://claude.ai/install.sh | bash` (replace current bun-based installation in bootstrap.sh)
- Split management for ~/.claude/: chezmoi manages hooks + settings (stable configs), learning data (~/.claude/insights/) is hands-off
- Bootstrap.sh installs Claude Code first, then chezmoi apply deploys ~/.claude/ configs after

### Portability Approach
- Same MCP server list across all Linux/Ubuntu machines (no per-machine conditionals)
- Sensitive MCP configs stored as age-encrypted chezmoi templates (consistent with existing secret strategy)
- Hardcoded `~/.claude/` paths in hook scripts — standard Claude Code path, no need for config indirection
- Fixed defaults for learning system config (haiku model, standard thresholds) — not configurable per machine
- `create_` prefix for ~/.claude/ configs — initial deploy only, won't overwrite existing (local edits preserved)
- Workspace folder CLAUDE.md files use chezmoi templates where paths/usernames needed

### Claude's Discretion
- Exact content of each workspace CLAUDE.md boundary file
- Which chezmoi template variables to use in CLAUDE.md files (relative paths vs template vars)
- Internal structure of ~/.claude/insights/ (how learning system organizes data)
- Adaptation of hook scripts from reference files (session-start.js, session-end.js, pre-compact.js, evaluate-session.js, observe.sh)
- How to structure the chezmoi source files for ~/.claude/ directory

</decisions>

<specifics>
## Specific Ideas

- Reference init-home-structure.sh from `.dotfiles/.planning/research/temp/init-home-structure.sh` for workspace structure (ignore knowledge base/self-documentation parts)
- Use hooks from `.dotfiles/.planning/research/temp/everything-claude-code-main/scripts/hooks/` (session-start.js, session-end.js, pre-compact.js, evaluate-session.js)
- Use learning system from `.dotfiles/.planning/research/temp/everything-claude-code-main/skills/continuous-learning-v2/`
- Use hooks.json from `.dotfiles/.planning/research/temp/everything-claude-code-main/hooks/hooks.json` — keep only session + learning hooks, exclude all linting hooks (console.log checks, TypeScript type checking, Prettier auto-format)
- MCP servers from `.dotfiles/.planning/research/temp/mcp-servers.json`
- command-center replaces the "agent/" folder concept from init-home-structure.sh

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 05.1-bootstrap-folders-claude-command-center*
*Context gathered: 2026-02-11*
